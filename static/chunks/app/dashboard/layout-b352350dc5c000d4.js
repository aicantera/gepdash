(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[663],{7185:function(e,t,s){Promise.resolve().then(s.bind(s,8695))},8695:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return DashboardLayout}});var a=s(7437),r=s(2265),n=s(4033),i=s(2899),l=s(1396),c=s.n(l),o=s(6691),d=s.n(o),m=s(3159);function Sidebar(e){let{isOpen:t}=e,s=(0,n.usePathname)(),l=(0,n.useRouter)(),[o,u]=(0,r.useState)(null),[x,h]=(0,r.useState)(null);(0,r.useEffect)(()=>{let getUserInfo=async()=>{var e;let{data:{session:t}}=await i.O.auth.getSession();if(null==t?void 0:null===(e=t.user)||void 0===e?void 0:e.email){h(t.user.email||null);let e=t.user.email.split("@");e.length>0&&u(e[0])}};getUserInfo()},[]);let handleLogout=async()=>{await i.O.auth.signOut(),l.push("/login")},g=[{name:"Inicio",icon:(0,a.jsx)(m.xng,{className:"text-xl"}),path:"/dashboard"},{name:"Estad\xedsticas",icon:(0,a.jsx)(m.NMh,{className:"text-xl"}),path:"/dashboard/estadisticas"},{name:"Usuarios",icon:(0,a.jsx)(m.I$,{className:"text-xl"}),path:"/dashboard/usuarios"},{name:"Empresas",icon:(0,a.jsx)(m.m17,{className:"text-xl"}),path:"/dashboard/empresas"},{name:"Temas y Subtemas",icon:(0,a.jsx)(m.mGS,{className:"text-xl"}),path:"/dashboard/temas"},{name:"Documentos Capturados",icon:(0,a.jsx)(m.mGS,{className:"text-xl"}),path:"/dashboard/documentos"},{name:"Reportes",icon:(0,a.jsx)(m.mGS,{className:"text-xl"}),path:"/dashboard/reportes"},{name:"Configuraci\xf3n",icon:(0,a.jsx)(m.p4t,{className:"text-xl"}),path:"/dashboard/configuracion"}];return(0,a.jsx)("div",{className:"sidebar fixed md:relative z-30 ".concat(t?"w-72":"w-0 md:w-20"," transition-all duration-300 ease-in-out overflow-hidden"),children:(0,a.jsxs)("div",{className:"h-full flex flex-col ".concat(t?"block":"hidden md:block"),children:[(0,a.jsxs)("div",{className:"flex flex-col items-center py-6 border-b border-gray-700 bg-gray-900",children:[(0,a.jsx)("div",{className:"w-40 h-auto mb-3 ".concat(t?"block":"hidden"),children:(0,a.jsx)(d(),{src:"/images/logo.jpg",alt:"GEP AI Logo",width:160,height:80,priority:!0,className:"mx-auto"})}),(0,a.jsx)("h1",{className:"text-xl font-bold text-white ".concat(t?"block":"hidden"),children:"GEP Dashboard"})]}),(0,a.jsx)("div",{className:"px-4 py-4 border-b border-gray-700 bg-gray-800 ".concat(t?"block":"hidden"),children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)(m.m3W,{className:"h-10 w-10 text-gray-300"})}),(0,a.jsxs)("div",{className:"ml-3",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-white",children:o||"Usuario"}),(0,a.jsx)("p",{className:"text-xs text-gray-300 truncate",children:x||"usuario@ejemplo.com"})]})]})}),(0,a.jsx)("nav",{className:"mt-5 flex-1 overflow-y-auto",children:(0,a.jsx)("div",{className:"px-2 space-y-1",children:g.map(e=>(0,a.jsx)(c(),{href:e.path,className:"\n                  group flex items-center px-4 py-3 text-base font-medium rounded-md transition-colors\n                  ".concat(s===e.path?"bg-primary text-white":"text-gray-300 hover:bg-gray-700 hover:text-white","\n                "),children:(0,a.jsxs)("div",{className:"flex items-center justify-center",children:[(0,a.jsx)("span",{className:"mr-3",children:e.icon}),(0,a.jsx)("span",{className:"".concat(t?"block":"hidden"),children:e.name})]})},e.path))})}),(0,a.jsx)("div",{className:"border-t border-gray-700 p-4",children:(0,a.jsxs)("button",{onClick:handleLogout,className:"group flex items-center px-4 py-3 text-base font-medium rounded-md text-gray-300 hover:bg-gray-700 hover:text-white w-full",children:[(0,a.jsx)(m.fHX,{className:"mr-3 text-xl"}),(0,a.jsx)("span",{className:"".concat(t?"block":"hidden"),children:"Cerrar sesi\xf3n"})]})})]})})}function Navbar(e){let{toggleSidebar:t}=e,[s,n]=(0,r.useState)(null),[l,c]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{let getUserInfo=async()=>{let{data:{session:e}}=await i.O.auth.getSession();(null==e?void 0:e.user)&&n(e.user.email||null)};getUserInfo()},[]),(0,a.jsx)("header",{className:"bg-white shadow-sm z-10",children:(0,a.jsxs)("div",{className:"flex items-center justify-between h-16 px-4 md:px-6",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("button",{onClick:t,className:"text-gray-600 hover:text-gray-900 focus:outline-none","aria-label":"Toggle sidebar",children:(0,a.jsx)(m.Fm7,{className:"h-6 w-6"})}),(0,a.jsx)("div",{className:"ml-4 md:ml-6",children:(0,a.jsx)("h1",{className:"text-lg font-semibold text-gray-900",children:"Panel de Control"})})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("button",{className:"p-2 rounded-full text-gray-600 hover:text-gray-900 hover:bg-gray-100 focus:outline-none","aria-label":"Notificaciones",children:(0,a.jsx)(m.Z3q,{className:"h-5 w-5"})}),(0,a.jsxs)("div",{className:"relative ml-3",children:[(0,a.jsx)("div",{children:(0,a.jsxs)("button",{onClick:()=>c(!l),className:"flex items-center max-w-xs text-sm bg-gray-800 rounded-full focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary",id:"user-menu","aria-haspopup":"true",children:[(0,a.jsx)("span",{className:"sr-only",children:"Abrir men\xfa de usuario"}),(0,a.jsx)("div",{className:"h-8 w-8 rounded-full flex items-center justify-center bg-primary text-white",children:(0,a.jsx)(m.Xws,{})})]})}),l&&(0,a.jsxs)("div",{className:"origin-top-right absolute right-0 mt-2 w-48 rounded-md shadow-lg py-1 bg-white ring-1 ring-black ring-opacity-5",role:"menu","aria-orientation":"vertical","aria-labelledby":"user-menu",children:[(0,a.jsx)("div",{className:"px-4 py-2 text-sm text-gray-700 border-b",children:s||"Usuario"}),(0,a.jsx)("a",{href:"#",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",role:"menuitem",children:"Mi perfil"}),(0,a.jsx)("a",{href:"#",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",role:"menuitem",children:"Configuraci\xf3n"}),(0,a.jsx)("a",{href:"/login",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",role:"menuitem",onClick:async e=>{e.preventDefault(),await i.O.auth.signOut(),window.location.href="/login"},children:"Cerrar sesi\xf3n"})]})]})]})]})})}function DashboardLayout(e){let{children:t}=e,s=(0,n.useRouter)(),[l,c]=(0,r.useState)(!0),[o,d]=(0,r.useState)(!0);return((0,r.useEffect)(()=>{let checkSession=async()=>{let{data:{session:e}}=await i.O.auth.getSession();e?c(!1):s.push("/login")};checkSession()},[s]),l)?(0,a.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Cargando..."}),(0,a.jsx)("p",{className:"text-gray-500",children:"Verificando autenticaci\xf3n"})]})}):(0,a.jsxs)("div",{className:"flex h-screen bg-gray-100",children:[(0,a.jsx)(Sidebar,{isOpen:o}),(0,a.jsxs)("div",{className:"flex-1 flex flex-col overflow-hidden",children:[(0,a.jsx)(Navbar,{toggleSidebar:()=>{d(!o)}}),(0,a.jsx)("main",{className:"flex-1 overflow-x-hidden overflow-y-auto bg-gray-100 p-4 md:p-6",children:t})]})]})}},2899:function(e,t,s){"use strict";s.d(t,{O:function(){return n},p:function(){return i}});var a=s(4756);let r="https://masterd.gepdigital.ai",n=(0,a.eI)(r,"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyAgCiAgICAicm9sZSI6ICJhbm9uIiwKICAgICJpc3MiOiAic3VwYWJhc2UtZGVtbyIsCiAgICAiaWF0IjogMTY0MTc2OTIwMCwKICAgICJleHAiOiAxNzk5NTM1NjAwCn0.dc_X5iR_VP_qT0zsiyj_I_OZ2T9FtRU2BBNWN8Bu4GE"),i=(0,a.eI)(r,"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyAgCiAgICAicm9sZSI6ICJzZXJ2aWNlX3JvbGUiLAogICAgImlzcyI6ICJzdXBhYmFzZS1kZW1vIiwKICAgICJpYXQiOiAxNjQxNzY5MjAwLAogICAgImV4cCI6IDE3OTk1MzU2MDAKfQ.DaYlNEoUrrEn2Ig7tqibS-PHK5vgusbcbo7X36XVt4Q")},1172:function(e,t,s){"use strict";s.d(t,{w_:function(){return GenIcon}});var a=s(2265),r={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},n=a.createContext&&a.createContext(r),__assign=function(){return(__assign=Object.assign||function(e){for(var t,s=1,a=arguments.length;s<a;s++)for(var r in t=arguments[s])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},__rest=function(e,t){var s={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&0>t.indexOf(a)&&(s[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,a=Object.getOwnPropertySymbols(e);r<a.length;r++)0>t.indexOf(a[r])&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(s[a[r]]=e[a[r]]);return s};function Tree2Element(e){return e&&e.map(function(e,t){return a.createElement(e.tag,__assign({key:t},e.attr),Tree2Element(e.child))})}function GenIcon(e){return function(t){return a.createElement(IconBase,__assign({attr:__assign({},e.attr)},t),Tree2Element(e.child))}}function IconBase(e){var elem=function(t){var s,r=e.attr,n=e.size,i=e.title,l=__rest(e,["attr","size","title"]),c=n||t.size||"1em";return t.className&&(s=t.className),e.className&&(s=(s?s+" ":"")+e.className),a.createElement("svg",__assign({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,l,{className:s,style:__assign(__assign({color:e.color||t.color},t.style),e.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),i&&a.createElement("title",null,i),e.children)};return void 0!==n?a.createElement(n.Consumer,null,function(e){return elem(e)}):elem(r)}}},function(e){e.O(0,[420,36,251,691,971,472,744],function(){return e(e.s=7185)}),_N_E=e.O()}]);